var blaster = require('pi-blaster.js');

var ONE_DEGREE = 0.1;
var DEGREES_PER_IMAGE = 1;

var MOTOR = {
  VERTICAL : {pin: 18, home: 0.5}
  HORIZONTAL : {pin: 17, home: 0.5}
}

module.exports =
{
  /**
   * Set either the vertical or horizontal motor to the 'home' position
   * @memberof module:servo-control
   * @param {MOTOR} MOTOR to return to the home position
   * @param {Function} callback Must accept only one optional error parameter
   */
  returnHome: function(motor, callback)
  {
    if (motor == MOTOR.HORIZONTAL)
    {
      console.log("horizontal motor returning home");
    }
    else if (motor = MOTOR.VERTICAL)
    {
      console.log("vertical motor returning home");
    }
    else
    {
      console.log("horizontal or vertical must be specified!");
      // do not attempt to move the motor
      return;
    }

    // set the motor to the home position
    blaster.setPwm(motor.pin, motor.home, callback);
  }

  /**
   * Set either the vertical or horizontal motor to the 'home' position
   * @memberof module:servo-control
   * @param {MOTOR} motor  MOTOR to move to specifed position
   * @param {float} position  position (0 - 1) to move motor to
   * @param {Function} callback Must accept only one optional error parameter
   */
  moveMotor: function(motor, position, callback)
  {
    if (motor == MOTOR.HORIZONTAL)
    {
      console.log("horizontal motor moving to postion " + position);
    }
    else if (motor = MOTOR.VERTICAL)
    {
      console.log("vertical motor moving to position " + position);
    }
    else
    {
      console.log("horizontal or vertical must be specified!");
      // do not attempt to move the motor
      return;
    }

    blaster.setPwm(motor, position, callback);
  }
}
