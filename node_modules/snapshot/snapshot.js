var servo = require('servo-control/servo-control.js');

var TIME_TO_MOVE = 2000;

module.exports = {
  snapImage: function(callback)
  {
    console.log("snapping image");
    // return both motors to the home position
    servo.returnHome(servo.motorHorizontal_, function() {

    });
    servo.returnHome(servo.motorVertical_, function() {

    });

    // assume both motors are in the home position
    var posHor = servo.motorVertical_.HOME;
    var posVer = servo.motorHorizontal_.HOME;
    // schedule all of the movements
    for (i = 0; i < servo.TOTAL_DEGREES / servo.motorHorizontal_.DEG_PER_IMG; ++i) {
      var degree = i * servo.ONE_DEGREE * servo.motorHorizontal_.DEG_PER_IMG;
      setTimeout(servo.moveMotor, i * TIME_TO_MOVE, servo.motorHorizontal_,
            degree,
            function() {

      });
    }
  }
}
